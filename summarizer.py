import os
import json
from openai import OpenAI
from dotenv import load_dotenv

# –ê–Ω–∞–ª–æ–≥ –≤ 1–°: &–ù–∞–°–µ—Ä–≤–µ—Ä–µ
# –ü–æ–¥–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ .env (–∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ 1–°)
load_dotenv()

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–∏–µ–Ω—Ç OpenAI (–∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ 1–°)
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

def read_json_file(file_path):
    """
    –ß–∏—Ç–∞–µ—Ç JSON —Ñ–∞–π–ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∫ —Å–ª–æ–≤–∞—Ä—å Python
    :param file_path: –ø—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'parsed_article.json')
    :return: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
    """
    try:
        # –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –¥–ª—è —á—Ç–µ–Ω–∏—è —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –ß—Ç–µ–Ω–∏–µJSON –∏–∑ —Ñ–∞–π–ª–∞
        with open(file_path, 'r', encoding='utf-8') as file:
            data = json.load(file)  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON –≤ —Å–ª–æ–≤–∞—Ä—å Python
            print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω JSON —Ñ–∞–π–ª: {file_path}")
            print(f"üìä –ù–∞–π–¥–µ–Ω–æ –∫–ª—é—á–µ–π: {len(data)}")
            return data
    except FileNotFoundError:
        print(f"‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: {file_path}")
        return None
    except json.JSONDecodeError:
        print(f"‚ùå –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è JSON –≤ —Ñ–∞–π–ª–µ: {file_path}")
        return None
    except Exception as e:
        print(f"‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: {str(e)}")
        return None

def create_structured_prompt(article_data):
    """
    –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ LLM
    :param article_data: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å–∏
    :return: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –ø—Ä–æ–º–ø—Ç–æ–º
    """
    # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    
    # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è –º–æ–¥–µ–ª–∏
    system_prompt = """–¢—ã ‚Äî –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—á–µ–±–Ω—ã—Ö –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤. 
–°–æ–∑–¥–∞–π –∫–æ–Ω—Å–ø–µ–∫—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

1. üìö –û–°–ù–û–í–ù–ê–Ø –¢–ï–ú–ê (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
2. üéØ –ö–õ–Æ–ß–ï–í–´–ï –¢–ï–ó–ò–°–´ (3-5 –ø—É–Ω–∫—Ç–æ–≤)
3. üë§ –ê–í–¢–û–† –ò –ö–û–ù–¢–ï–ö–°–¢ (—á–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω –∞–≤—Ç–æ—Ä, –µ–≥–æ –ø–æ–∑–∏—Ü–∏—è)
4. üìÖ –ê–ö–¢–£–ê–õ–¨–ù–û–°–¢–¨ (–ø–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Å–µ–π—á–∞—Å)
5. üîß –ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï (–≥–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
6. ü§î –í–û–ü–†–û–°–´ –î–õ–Ø –û–ë–°–£–ñ–î–ï–ù–ò–Ø (3 –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–∏—è)
7. üíé –í–´–í–û–î (–≥–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å)

–û—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é, –±—É–¥—å —Ç–æ—á–Ω—ã–º –≤ –¥–µ—Ç–∞–ª—è—Ö."""

    # –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å–∏
    # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –°—Ç—Ä–®–∞–±–ª–æ–Ω("–ó–∞–≥–æ–ª–æ–≤–æ–∫: %1", –ó–∞–≥–æ–ª–æ–≤–æ–∫)
    user_prompt = f"""–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç–∞—Ç—å—é –∏ —Å–æ–∑–¥–∞–π –∫–æ–Ω—Å–ø–µ–∫—Ç:

–ó–ê–ì–û–õ–û–í–û–ö: {article_data.get('title', '–ù–µ —É–∫–∞–∑–∞–Ω')}
–ê–í–¢–û–†: {article_data.get('author', '–ù–µ —É–∫–∞–∑–∞–Ω')}
–î–ê–¢–ê –ü–£–ë–õ–ò–ö–ê–¶–ò–ò: {article_data.get('date', '–ù–µ —É–∫–∞–∑–∞–Ω–∞')}
–ù–ê–õ–ò–ß–ò–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í: {article_data.get('has_comments', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')}

–¢–ï–ö–°–¢ –°–¢–ê–¢–¨–ò:
{article_data.get('content', '–¢–µ–∫—Å—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç')}

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç."""

    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±–∞ –ø—Ä–æ–º–ø—Ç–∞ (—Å–∏—Å—Ç–µ–º–Ω—ã–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
    return system_prompt, user_prompt

def generate_summary(article_data, model="gpt-3.5-turbo"):
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–ø–µ–∫—Ç —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ OpenAI API
    :param article_data: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å–∏
    :param model: –º–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é gpt-3.5-turbo)
    :return: –∫–æ–Ω—Å–ø–µ–∫—Ç –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    """
    try:
        print(f"üß† –ù–∞—á–∏–Ω–∞—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Å–ø–µ–∫—Ç–∞ —Å –º–æ–¥–µ–ª—å—é {model}...")
        
        # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–ø—Ç—ã (–∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ 1–°)
        system_prompt, user_prompt = create_structured_prompt(article_data)
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ API OpenAI
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: HTTP–ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å("POST", URL, –ó–∞–≥–æ–ª–æ–≤–∫–∏, –¢–µ–ª–æ)
        response = client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_prompt}
            ],
            temperature=0.3,  # –£—Ä–æ–≤–µ–Ω—å –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ (0-1, 0.3 = –¥–æ–≤–æ–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∏–π)
            max_tokens=1000,   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
            timeout=30        # –¢–∞–π–º–∞—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        )
        
        # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –û—Ç–≤–µ—Ç.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–∫—Å—Ç()
        summary = response.choices[0].message.content
        
        print("‚úÖ –ö–æ–Ω—Å–ø–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!")
        return summary
        
    except Exception as e:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–∫–∞–∫ –±–ª–æ–∫ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ 1–°)
        error_message = f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞: {str(e)}"
        print(error_message)
        return error_message

def save_summary_to_file(summary, article_title, output_dir="conspect"):
    """
    –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Å–ø–µ–∫—Ç –≤ —Ñ–∞–π–ª
    :param summary: —Ç–µ–∫—Å—Ç –∫–æ–Ω—Å–ø–µ–∫—Ç–∞
    :param article_title: –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ (–¥–ª—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞)
    :param output_dir: –ø–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    """
    try:
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –°–æ–∑–¥–∞—Ç—å–ö–∞—Ç–∞–ª–æ–≥()
        if not os.path.exists(output_dir):
            os.makedirs(output_dir)
            print(f"üìÅ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞: {output_dir}")
        
        # –°–æ–∑–¥–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ (—É–±–∏—Ä–∞–µ–º –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã)
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(–ó–∞–≥–æ–ª–æ–≤–æ–∫, "/", "_")
        safe_title = "".join(c if c.isalnum() or c in " _-" else "_" for c in article_title)
        safe_title = safe_title[:50]  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
        file_path = os.path.join(output_dir, f"–∫–æ–Ω—Å–ø–µ–∫—Ç_{safe_title}.md")
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Å–ø–µ–∫—Ç –≤ Markdown —Ñ–æ—Ä–º–∞—Ç–µ
        # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –ó–∞–ø–∏—Å—å–¢–µ–∫—Å—Ç–∞.–ó–∞–ø–∏—Å–∞—Ç—å(–ö–æ–Ω—Å–ø–µ–∫—Ç)
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(summary)
        
        print(f"üíæ –ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤: {file_path}")
        return file_path
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: {str(e)}")
        return None

def main():
    """
    –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
    –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ü—Ä–∏–ó–∞–ø—É—Å–∫–µ–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è()
    """
    print("=" * 60)
    print("ü§ñ –ì–ï–ù–ï–†–ê–¢–û–† –ö–û–ù–°–ü–ï–ö–¢–û–í –î–õ–Ø –ò–ó–£–ß–ï–ù–ò–Ø –ò–ò")
    print("=" * 60)
    
    # 1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É
    # –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –í–≤–µ—Å—Ç–∏–°—Ç—Ä–æ–∫—É("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É")
    json_path = input("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è parsed_article.json): ").strip()
    
    if not json_path:
        json_path = "parsed_article.json"
    
    # 2. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON
    article_data = read_json_file(json_path)
    
    if not article_data:
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã.")
        return
    
    # 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–∞—Ç—å–µ
    print("\nüì∞ –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–¢–ê–¢–¨–ï:")
    print(f"   –ó–∞–≥–æ–ª–æ–≤–æ–∫: {article_data.get('title', '–ù–µ —É–∫–∞–∑–∞–Ω')}")
    print(f"   –ê–≤—Ç–æ—Ä: {article_data.get('author', '–ù–µ —É–∫–∞–∑–∞–Ω')}")
    print(f"   –î–∞—Ç–∞: {article_data.get('date', '–ù–µ —É–∫–∞–∑–∞–Ω–∞')}")
    print(f"   –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: {article_data.get('content_length', 0)} —Å–∏–º–≤–æ–ª–æ–≤")
    
    # 4. –°–ø—Ä–∞—à–∏–≤–∞–µ–º –º–æ–¥–µ–ª—å
    model_choice = input("\n–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å (1 - gpt-3.5-turbo, 2 - gpt-4, Enter - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): ").strip()
    
    model = "gpt-3.5-turbo"  # –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    if model_choice == "2":
        model = "gpt-4"
        print(f"‚úÖ –í—ã–±—Ä–∞–Ω–∞ –º–æ–¥–µ–ª—å: {model} (–¥–æ—Ä–æ–∂–µ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ)")
    else:
        print(f"‚úÖ –í—ã–±—Ä–∞–Ω–∞ –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: {model}")
    
    # 5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Å–ø–µ–∫—Ç
    print("\n" + "=" * 60)
    print("üß† –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–û–ù–°–ü–ï–ö–¢–ê...")
    print("=" * 60)
    
    summary = generate_summary(article_data, model)
    
    # 6. –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    print("\n" + "=" * 60)
    print("üìö –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô –ö–û–ù–°–ü–ï–ö–¢:")
    print("=" * 60)
    print(summary)
    
    # 7. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
    save_choice = input("\n–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Å–ø–µ–∫—Ç –≤ —Ñ–∞–π–ª? (y/n, Enter - –¥–∞): ").strip().lower()
    
    if save_choice in ['', 'y', 'yes', '–¥–∞']:
        article_title = article_data.get('title', '–ë–µ–∑_–Ω–∞–∑–≤–∞–Ω–∏—è')
        saved_path = save_summary_to_file(summary, article_title)
        
        if saved_path:
            print(f"\n‚úÖ –ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω: {saved_path}")
    
    print("\n‚ú® –†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞–ø—Ä—è–º—É—é (–∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –º–æ–¥—É–ª—å)
# –ê–Ω–∞–ª–æ–≥ –≤ 1–°: –ï—Å–ª–∏ –≠—Ç–æ—Ç–°–∫—Ä–∏–ø—Ç = "–û—Å–Ω–æ–≤–Ω–æ–π" –¢–æ–≥–¥–∞
if __name__ == "__main__":
    main()